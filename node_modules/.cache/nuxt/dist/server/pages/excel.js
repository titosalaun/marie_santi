exports.ids = [2];
exports.modules = {

/***/ 42:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(URL) {/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vuex__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(37);
/* harmony import */ var tone__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tone__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(38);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




var playerSound;
var bufferSound = new Array();
/* harmony default export */ __webpack_exports__["a"] = ({
  layout: 'defaultold',

  mounted() {},

  data() {
    return {
      url_server: this.$store.state.url_server,
      id_user: 0,
      parametres: '',
      messages: [],
      isShowLoading: true,
      isShowNoResult: false,
      timeoutObj: '',
      isTools: false,
      isPause: false,
      myCurrentTimeSave: 0,
      valSetTimeout: 0,
      nb_jury: 32,
      nb_etudiant: 72,
      etudiants: new Array(),
      isLoadTable: false,
      isLoading: false
    };
  },

  methods: {
    goCalcule: function () {
      this.etudiants = new Array();
      this.isLoading = true;
      setTimeout(function () {
        this.initEtudiants();
      }.bind(this), 1000);
    },
    getMessages: function () {
      axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(this.url_server + "/getMessages?id_user=" + this.id_user).then(response => {
        this.isShowLoading = false;
        this.messages = response.data.liste;
        if (this.messages.length == 0) this.isShowNoResult = true;
      }).catch(error => displayErreur('Erreur lors du chargement des messages'));
    },

    async logout() {
      await this.$auth.logout();
      this.$router.push('/login');
    },

    loadSound(file, id, index) {
      console.log("debut"); //file = convertSound(file);

      console.log("blob : " + file); //var blobUrl = URL.createObjectURL(file);

      bufferSound[index] = new tone__WEBPACK_IMPORTED_MODULE_2__["ToneAudioBuffer"]({
        onload: () => {
          document.querySelector('#' + id + ' .duration').innerHTML = this.convertSoundDuration(bufferSound[index].duration);
          document.querySelector('#' + id + ' .content-play').classList.remove('isLoading');
        },
        onerror: () => {
          document.querySelector('#' + id + ' .duration').innerHTML = "no sound";
        },
        reverse: false,
        url: file
      });
      /*bufferSound[index] = new Tone.ToneAudioBuffer(file, ( ) => {
      		console.log("in : " + id)
      	document.querySelector('#' + id + ' .duration').innerHTML = this.convertSoundDuration(bufferSound[index].duration);
      	document.querySelector('#' + id + ' .content-play').classList.remove('isLoading');
      });*/
    },

    onload() {
      console.log("ONLOAD");
    },

    playSound(file, id, index) {
      if (!document.querySelector('#' + id + ' .content-play').classList.contains('isLoading')) {
        if (this.isPlayingSound == index) {
          this.stopSound();
        } else {
          if (this.isPlayingSound != -1) {
            clearTimeout(this.valSetTimeout);
            this.stopSound();
          }

          this.initAllSound();
          tone__WEBPACK_IMPORTED_MODULE_2__["Transport"].start();
          this.myCurrentTime = new tone__WEBPACK_IMPORTED_MODULE_2__["TransportTime"]();
          this.isPlayingSound = index;
          this.progressValTotal = bufferSound[index].duration;
          playerSound.buffer = bufferSound[index];
          playerSound.start();

          playerSound.onstop = () => {
            this.stopSound();
          };

          this.playSoundProgress(id);
          console.log("TITO1"); //document.querySelector('#' + id + ' .player img').setAttribute("src","/img/pause.png");

          document.querySelector('#' + id + ' .ctrlPlay').classList.add("hide");
          document.querySelector('#' + id + ' .ctrlPause').classList.remove("hide");
        }
      }
    },

    initAllSound() {
      document.querySelectorAll('.progress-play').forEach(el => el.style.width = '0px');
      document.querySelectorAll('.ctrlPlay').forEach(el => el.classList.remove("hide"));
      document.querySelectorAll('.ctrlPause').forEach(el => el.classList.add("hide"));
    },

    pauseSound(id) {
      //Tone.Transport.stop();
      clearInterval(this.valSetInterval);
      playerSound.stop();
      this.myCurrentTimeSave = this.myCurrentTime;
      console.log("PAUSE : " + this.myCurrentTimeSave); //document.querySelector('#' + id + ' .player img').setAttribute("src","/img/play.svg");

      document.querySelector('#' + id + ' .ctrlPlay').classList.remove("hide");
      document.querySelector('#' + id + ' .ctrlPause').classList.add("hide"); //Tone.Transport.stop();
      //this.myCurrentTime = 0;
    },

    stopSound() {
      //Tone.stop();
      console.log("STOP");
      this.isPlayingSound = -1;
      this.progressValTotal = 0;
      clearInterval(this.valSetInterval);
      this.initAllSound();
      playerSound.stop();
      tone__WEBPACK_IMPORTED_MODULE_2__["Transport"].stop();
      this.myCurrentTime = 0;
    },

    playSoundProgress(id) {
      console.log(this.myCurrentTime + ' / ' + this.progressValTotal);
      var val_progress = Math.round(this.myCurrentTime * 100 / this.progressValTotal);

      if (this.isPlayingSound != -1 && val_progress <= 101) {
        document.querySelector('#' + id + ' .progress-play').style.width = val_progress + '%';
        this.valSetInterval = setTimeout(function () {
          if (this.isPlayingSound != -1) this.playSoundProgress(id);
        }.bind(this), 200);
      } else {
        clearTimeout(this.valSetInterval);
        tone__WEBPACK_IMPORTED_MODULE_2__["Transport"].stop();
      }
    },

    convertSoundDuration(sec) {
      var val = (sec / 60).toFixed(2);
      return val.toString().replace(".", ":");
    },

    convertSound(data) {
      let binary = convertURIToBinary(data);
      let blob = new Blob([binary], {
        type: 'audio/ogg'
      });
      let blobUrl = URL.createObjectURL(blob);
      return blobUrl;
    },

    initDisplayErreur: function () {
      hideErreur();
    },
    initEtudiants: function () {
      var nb = this.nb_jury;
      var table = new Array();
      var index = 0;

      while (index < this.nb_etudiant) {
        table = this.getLigneEtudiant(table);
        index++;
      }
      /*for (var i=0;i<table.length;i++) {
      	console.log(i + " : " + table[i])
      }*/


      this.etudiants = table;
      this.isLoadTable = true;
      console.log("FIN : " + this.etudiants.length); //console.log("array : " +  table);

      var myArray = '20,28,8,1,25,15,13,2';
      if (myArray.includes(2)) console.log("YES");else console.log("NO");
    },
    getLigneEtudiant: function (table) {
      var sample = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32];
      var val = this.getEtudiant(sample, 8);

      if (table.includes(val)) {
        this.getLigneEtudiant(table);
      } else {
        table.push(val);
        return table;
      }
    },
    getEtudiant: function (array, size) {
      const results = [],
            sampled = {};

      while (results.length < size && results.length < array.length) {
        const index = Math.trunc(Math.random() * array.length);

        if (!sampled[index]) {
          results.push(array[index]);
          sampled[index] = true;
        }
      }

      return results;
    },

    getRandomNumber(min, max) {
      return Math.floor(Math.random() * (max - min + 1) + min);
    },

    calcule(i, j) {
      this.isLoading = false;
      var val = '';
      val = this.etudiants[i - 1].toString();
      const myArray = val.split(",");
      const myArrayNew = new Array();

      for (var u = 0; u < myArray.length; u++) {
        myArrayNew.push('*' + myArray[u] + '*');
      }

      console.log("myArray" + myArray);
      var tito = "no";
      if (myArrayNew.includes(j)) tito = "yes";
      console.log("j : " + j + " / " + tito);
      if (myArrayNew.includes('*' + j + '*')) return j;else return '';
    }

  }
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(39)["URL"]))

/***/ }),

/***/ 61:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/excel.vue?vue&type=template&id=7d113c98&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"container"},[_vm._ssrNode("<div class=\"content\" data-v-7d113c98><div class=\"col-content\" style=\"width:100%;padding-top:20px;\" data-v-7d113c98><div style=\"width:400px\" data-v-7d113c98><div style=\"margin-bottom:15px;\" data-v-7d113c98><div data-v-7d113c98><label data-v-7d113c98>Nb Ã©tudiants</label> <input type=\"text\" id=\"nb_etudiant\""+(_vm._ssrAttr("value",(_vm.nb_etudiant)))+" data-v-7d113c98></div></div> <div style=\"margin-bottom:15px;\" data-v-7d113c98><div data-v-7d113c98><label data-v-7d113c98>Nb jury</label> <input type=\"text\" id=\"nb_jury\""+(_vm._ssrAttr("value",(_vm.nb_jury)))+" data-v-7d113c98></div></div> <div style=\"margin-bottom:15px;\" data-v-7d113c98><div data-v-7d113c98><div data-v-7d113c98><button class=\"btRecord\" data-v-7d113c98>Valider</button></div></div></div></div> <table data-v-7d113c98>"+(_vm._ssrList((_vm.etudiants.length),function(i){return ("<tr"+(_vm._ssrStyle(null,null, { display: (_vm.isLoadTable) ? '' : 'none' }))+" data-v-7d113c98>"+(_vm._ssrList((_vm.nb_jury),function(j){return ("<td style=\"width:30px;height:30px;border:1px solid #fff;padding:5px\" data-v-7d113c98>"+_vm._ssrEscape(_vm._s(_vm.calcule(i,j)))+"</td>")}))+"</tr>")}))+"</table></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/excel.vue?vue&type=template&id=7d113c98&scoped=true&

// EXTERNAL MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/excel.vue?vue&type=script&lang=js&
var excelvue_type_script_lang_js_ = __webpack_require__(42);

// CONCATENATED MODULE: ./pages/excel.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_excelvue_type_script_lang_js_ = (excelvue_type_script_lang_js_["a" /* default */]); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/excel.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_excelvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "7d113c98",
  "39f681dd"
  
)

/* harmony default export */ var excel = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=excel.js.map