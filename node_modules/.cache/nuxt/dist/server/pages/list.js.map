{"version":3,"file":"pages/list.js","sources":["webpack:///./pages/list.vue?2586","webpack:///./pages/list.vue","webpack:///./pages/list.vue?2060","webpack:///./pages/list.vue?1461"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._ssrNode(\"<div class=\\\"content\\\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-left\\\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"logo\\\" data-v-701ccebe>\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":\"/\"}},[_c('svg',{attrs:{\"id\":\"Calque_1\",\"data-name\":\"Calque 1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 776.86 861.5\"}},[_c('path',{attrs:{\"d\":\"M291.29,701.18c0,92.18,68.41,131,165.81,131,112.47,0,162.9-51,162.9-163.49V558.56H444.92C360.86,558.56,291.29,614.22,291.29,701.18ZM151.57,725.53c0-113,68.41-197.69,176.24-208.13V490.15c-84.06-10.43-146.67-87-146.67-179.14,0-133.34,130.44-215.66,280-215.66C622.9,95.35,740,173,747,332.46H611.89c-7-80-60.87-117.1-149-117.1-83.48,0-141.45,38.84-141.45,114.78s55.65,117.11,139.14,117.11H928.43V558.56H755.08c0,266.11-3.47,265,5.8,273.64,8.12,7.54,11.6,5.22,167.55,5.22V945.25c-207.55,0-224.94,5.8-263.21-34.2-22.61-23.77-21.45-74.79-21.45-74.79H622.9c-34.78,86.38-107.83,120.59-203.49,120.59C265.2,956.85,151.57,877.42,151.57,725.53Z\",\"transform\":\"translate(-151.57 -95.35)\"}})])])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"tools\\\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"tools-content\",{ open: _vm.isTools }))+\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div data-v-701ccebe><label data-v-701ccebe>Message</label> <textarea placeholder=\\\"...\\\" name=\\\"tools_message\\\" id=\\\"tools_message\\\" data-v-701ccebe>\"+_vm._ssrEscape(_vm._s(_vm.tools_message))+\"</textarea></div> \"),_vm._ssrNode(\"<div data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<label data-v-701ccebe>Couleur</label> \"),_vm._ssrNode(\"<div class=\\\"zoneColorText\\\" data-v-701ccebe>\",\"</div>\",[_c('color-picker',{on:{\"change\":_vm.updateColorText},model:{value:(_vm.tools_color_text),callback:function ($$v) {_vm.tools_color_text=$$v},expression:\"tools_color_text\"}})],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<label data-v-701ccebe>Fond</label> \"),_vm._ssrNode(\"<div class=\\\"zoneColorBg\\\" data-v-701ccebe>\",\"</div>\",[_c('color-picker',{on:{\"change\":_vm.updateColorBg},model:{value:(_vm.tools_color_bg),callback:function ($$v) {_vm.tools_color_bg=$$v},expression:\"tools_color_bg\"}})],1)],2),_vm._ssrNode(\" <div data-v-701ccebe><label data-v-701ccebe>\"+_vm._ssrEscape(\"Taille : \"+_vm._s(_vm.tools_font_size))+\"</label> <input type=\\\"range\\\" id=\\\"tools_font_size\\\" min=\\\"10\\\" max=\\\"200\\\"\"+(_vm._ssrAttr(\"value\",(_vm.tools_font_size)))+\" class=\\\"slider\\\" data-v-701ccebe></div> <div\"+(_vm._ssrStyle(null,null, { display: (_vm.isAuthenticated) ? '' : 'none' }))+\" data-v-701ccebe><label class=\\\"cursor-pointer\\\" data-v-701ccebe>log-out</label></div>\")],2),_vm._ssrNode(\" <div class=\\\"tools-nav\\\" data-v-701ccebe>Paramètres</div>\")],2)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"col-content\",{ marge: _vm.isTools }))+\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"mesure\\\" data-v-701ccebe><div class=\\\"mesure-val\\\" data-v-701ccebe>\"+_vm._ssrEscape(_vm._s(_vm.decibelVal))+\"</div><div class=\\\"indice\\\" data-v-701ccebe>DBA</div></div> <div id=\\\"content\\\" data-v-701ccebe></div> \"),_vm._ssrNode(\"<div class=\\\"col-content-list\\\" data-v-701ccebe>\",\"</div>\",[(!_vm.messages.length)?_vm._ssrNode(\"<div data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div\"+(_vm._ssrStyle(null,null, { display: (_vm.isShowLoading) ? '' : 'none' }))+\" data-v-701ccebe>Chargement des messages...</div>\"),_vm._ssrNode(\"<div class=\\\"flex\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.isShowNoResult) ? '' : 'none' }))+\" data-v-701ccebe>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"pr-1 flex items-center\\\" data-v-701ccebe>\",\"</div>\",[_c('NuxtLink',{attrs:{\"to\":{ path: _vm.url_add}}},[_vm._v(\"aucun résultat, ajouter un message \")])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"add highlight\\\" data-v-701ccebe>\",\"</div>\",[_c('NuxtLink',{attrs:{\"to\":{ path: _vm.url_add}}},[_c('svg',{staticClass:\"big\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",\"d\":\"M12 4v16m8-8H4\"}})])])],1)],2)],2):_vm._e(),_vm._ssrNode(\" \"+(_vm._ssrList((_vm.messages),function(message,indexMessage){return (\"<div class=\\\"item\\\" data-v-701ccebe>\"+_vm._ssrEscape(_vm._s(message.texte))+\"</div>\")})))],2),_vm._ssrNode(\" <div data-v-701ccebe><div id=\\\"p5Canvas\\\" class=\\\"canvas-area\\\" data-v-701ccebe></div></div>\")],2),_vm._ssrNode(\" <div class=\\\"col-right\\\" data-v-701ccebe><div class=\\\"startMic cursor-pointer\\\" data-v-701ccebe>start</div></div>\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nimport * as Tone from 'tone';\n\n\nexport default {\n\tmiddleware: 'auth',\n   computed: {\n    ...mapGetters(['isAuthenticated', 'loggedInfont']),\n  },\n\tmounted() {   \n\n\t this.parametres = JSON.parse(localStorage.getItem('parametres') || \"[]\") ;\n\t \n\t this.loadParametres();\n\t \n\t this.getMessages();\n\n\t},\n\tdata() {\n\t    return {\n\t\t    url_server:this.$store.state.url_server,\n\t\t    id_user: this.$auth.user.id,\n\t\t    parametres:'',\n\t\t    messages : [],\n\t\t    isShowLoading:true,\n\t\t    isShowNoResult:false,\n\t\t\tisTools:false,\n\t\t\ttimeOutTools:'',\n\t\t\ttools_message:'',\n\t\t\ttools_color_text:'#fff',\n\t\t\ttools_color_bg:'#000',\n\t\t\ttools_font_size:20,\n\t\t\tisMic:false,\n\t\t\tmeter:'',\n\t\t\tmic:'',\n\t\t\tdecibelVal:0.0,\n\t\t\tintervalDisplayMic:'',\n\t\t\tmicFFT:'',\n\t\t\tisMicInitialize:false,\n\t    }\n\t  },\n\tmethods: {\n\t\t getMessages: function()\n\t\t {\n\t       axios.get(this.url_server + \"/getMessages?id_user=\" + this.id_user)\n\t       .then(response => {\n\t\t       this.isShowLoading = false;\n\t\t       this.messages = response.data.liste;\n\t\t       if (this.messages.length == 0) this.isShowNoResult = true;\n\t\t   })\n\t       .catch(error => displayErreur('Erreur lors du chargement des messages'))\n\t    },\n\t\topenTools (){\n\t\t    if (this.isTools) {\n\t\t\t    this.isTools = false;\n\t\t    }\n\t\t    else {\n\t\t\t    this.isTools = true;\n\t\t    }\n\t\t}\n\t\t,\n\t\tinitTools (){\n\t\t\t//this.updateCss();\n\t\t\t\n\t\t\tthis.updateColorPicker();\n\t\t    \n\t\t}\t    \n\t\t,\n\t    updateColorText: function() {\n\t\t    clearTimeout(this.timeOutTools);\n\t\t    this.timeOutTools = setTimeout(function () {  \n\t\t\t    this.updateColorPicker();\n\t\t\t    this.$parent.$emit('update:color_text_send', this.tools_color_text);\n\t\t    }.bind(this), 100)\n\t    }\n\t    ,\n\t    updateColorBg: function() {\n\t\t    clearTimeout(this.timeOutTools);\n\t\t    this.timeOutTools = setTimeout(function () {  \n\t\t\t    this.updateColorPicker();\n\t\t\t    this.$parent.$emit('update:color_bg_send', this.tools_color_bg);\n\t\t    }.bind(this), 100)\n\t    }\n\t    ,\n\t    updateColorPicker: function() {\n\t\t    document.querySelector('.zoneColorText .color-block .value').innerHTML = this.tools_color_text;\n\t\t    document.querySelector('.zoneColorBg .color-block .value').innerHTML = this.tools_color_bg;\n\t    }\n\t    ,\n\t    loadParametres: function() {\n\t\t    var para = this.parametres;\n\t\t    this.tools_color_text = para.color_text;\n\t\t    this.tools_color_bg = para.color_bg;\n\t\t    \t\t    \n\t\t    this.initTools();\n\n\t    }\n\t    ,\n\t    updateFontSize: function() {\n\t\t    document.querySelector('.col-content-list').style.fontSize = this.tools_font_size + \"px\";\n\t\t    document.querySelector('.col-content-list').style.lineHeight = (parseInt(this.tools_font_size) + 3) + \"px\";\n\n\t    \n\t    }\n\t    ,\n\t    initMic: function() {\n\t\t    this.meter = new Tone.Meter({});\n\t\t\tthis.mic = new Tone.UserMedia();\n\t\t\tthis.mic.connect(this.meter);\n\t\t\t\t\t\t\n\t\t\t//this.meter.toMaster()\n\t\t\tdocument.querySelector('.mesure').supported = Tone.UserMedia.supported;\n\t\t\t\n\t\t\tthis.mic.open();\n\t\t\t\n\t\t\t/*this.mic = new Tone.UserMedia();\n\n\t\t\tthis.micFFT = new Tone.FFT({\n\t\t\t\ttone: this.micFFT,\n\t\t\t\tparent: document.querySelector(\"#content\")\n\t\t\t});\n\t\t\tthis.mic.connect(this.micFFT);*/\n\n\t    }\n\t    ,\n\t    startMic: function() {\n\t\t    Tone.context.resume()\n\t\t    \n\t\t    \n\t\t    \n\t\t    if (this.isMic) {\n\t\t\t    this.mic.close();\n\t\t\t    this.decibelVal = 0.0;\n\t\t\t    this.isMic = false;\n\t\t\t    this.isMicInitialize = false;\n\t\t\t    document.querySelector('.startMic').innerHTML = 'start';\n\t\t\t    \n\t\t    }\n\t\t\telse {\n\t\t\t\tif (!this.isMicInitialize)\n\t\t\t    {\n\t\t\t\t    this.initMic();\n\t\t\t\t    this.isMicInitialize = true;\n\t\t\t    }\n\t\t\t\tthis.isMic = true;\n\t\t\t\tdocument.querySelector('.startMic').innerHTML = 'stop';\n\t\t\t}\n\t\t\t\n\t\t\tif (this.isMic) {\n\t\t\t\tthis.intervalDisplayMic = setInterval(() => this.displayVal(this.meter.getValue()), 100);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tclearInterval(this.intervalDisplayMic);\n\t\t\t}\n\t\t\t\t\n\t\t}\n\t    ,\n\t    displayVal: function(val) {\n\t\t    this.index++;\n\t\t    \n\t\t    //const dBFS = this.meter.getLevel();\n\t\t\tval = val;\n\t\t\t\n\t\t\tconst lowerBound = 0;\n\t\t\tconst upperBound = 100;\n\t\t\t\n\t\t\tval = parseInt(val) + 100;\n\n\t\t    this.decibelVal =  val;\n\t\t}\n\t\t,\n\t    clamp: function(value, min, max) {\n\t\t   return Math.min(max, Math.max(min, value));\n\t\t}\n\t\t,\n\t\tasync logout() {\n\t      await this.$auth.logout();\n\t      this.$router.push('/login')\n\t      // this.$store.commit('setLoggedIn', false) // even if I use this\n\t      //console.log(this.$auth.loggedIn) // -> false\n\t    }\n\t}\n}\n\n\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=701ccebe&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"701ccebe\",\n  \"3ea7fa68\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAqBA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AA5IA;AArCA;;AC/DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}