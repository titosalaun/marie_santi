(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{434:function(e,t,r){var map={"./af":292,"./af.js":292,"./ar":293,"./ar-dz":294,"./ar-dz.js":294,"./ar-kw":295,"./ar-kw.js":295,"./ar-ly":296,"./ar-ly.js":296,"./ar-ma":297,"./ar-ma.js":297,"./ar-sa":298,"./ar-sa.js":298,"./ar-tn":299,"./ar-tn.js":299,"./ar.js":293,"./az":300,"./az.js":300,"./be":301,"./be.js":301,"./bg":302,"./bg.js":302,"./bm":303,"./bm.js":303,"./bn":304,"./bn-bd":305,"./bn-bd.js":305,"./bn.js":304,"./bo":306,"./bo.js":306,"./br":307,"./br.js":307,"./bs":308,"./bs.js":308,"./ca":309,"./ca.js":309,"./cs":310,"./cs.js":310,"./cv":311,"./cv.js":311,"./cy":312,"./cy.js":312,"./da":313,"./da.js":313,"./de":314,"./de-at":315,"./de-at.js":315,"./de-ch":316,"./de-ch.js":316,"./de.js":314,"./dv":317,"./dv.js":317,"./el":318,"./el.js":318,"./en-au":319,"./en-au.js":319,"./en-ca":320,"./en-ca.js":320,"./en-gb":321,"./en-gb.js":321,"./en-ie":322,"./en-ie.js":322,"./en-il":323,"./en-il.js":323,"./en-in":324,"./en-in.js":324,"./en-nz":325,"./en-nz.js":325,"./en-sg":326,"./en-sg.js":326,"./eo":327,"./eo.js":327,"./es":328,"./es-do":329,"./es-do.js":329,"./es-mx":330,"./es-mx.js":330,"./es-us":331,"./es-us.js":331,"./es.js":328,"./et":332,"./et.js":332,"./eu":333,"./eu.js":333,"./fa":334,"./fa.js":334,"./fi":335,"./fi.js":335,"./fil":336,"./fil.js":336,"./fo":337,"./fo.js":337,"./fr":338,"./fr-ca":339,"./fr-ca.js":339,"./fr-ch":340,"./fr-ch.js":340,"./fr.js":338,"./fy":341,"./fy.js":341,"./ga":342,"./ga.js":342,"./gd":343,"./gd.js":343,"./gl":344,"./gl.js":344,"./gom-deva":345,"./gom-deva.js":345,"./gom-latn":346,"./gom-latn.js":346,"./gu":347,"./gu.js":347,"./he":348,"./he.js":348,"./hi":349,"./hi.js":349,"./hr":350,"./hr.js":350,"./hu":351,"./hu.js":351,"./hy-am":352,"./hy-am.js":352,"./id":353,"./id.js":353,"./is":354,"./is.js":354,"./it":355,"./it-ch":356,"./it-ch.js":356,"./it.js":355,"./ja":357,"./ja.js":357,"./jv":358,"./jv.js":358,"./ka":359,"./ka.js":359,"./kk":360,"./kk.js":360,"./km":361,"./km.js":361,"./kn":362,"./kn.js":362,"./ko":363,"./ko.js":363,"./ku":364,"./ku.js":364,"./ky":365,"./ky.js":365,"./lb":366,"./lb.js":366,"./lo":367,"./lo.js":367,"./lt":368,"./lt.js":368,"./lv":369,"./lv.js":369,"./me":370,"./me.js":370,"./mi":371,"./mi.js":371,"./mk":372,"./mk.js":372,"./ml":373,"./ml.js":373,"./mn":374,"./mn.js":374,"./mr":375,"./mr.js":375,"./ms":376,"./ms-my":377,"./ms-my.js":377,"./ms.js":376,"./mt":378,"./mt.js":378,"./my":379,"./my.js":379,"./nb":380,"./nb.js":380,"./ne":381,"./ne.js":381,"./nl":382,"./nl-be":383,"./nl-be.js":383,"./nl.js":382,"./nn":384,"./nn.js":384,"./oc-lnc":385,"./oc-lnc.js":385,"./pa-in":386,"./pa-in.js":386,"./pl":387,"./pl.js":387,"./pt":388,"./pt-br":389,"./pt-br.js":389,"./pt.js":388,"./ro":390,"./ro.js":390,"./ru":391,"./ru.js":391,"./sd":392,"./sd.js":392,"./se":393,"./se.js":393,"./si":394,"./si.js":394,"./sk":395,"./sk.js":395,"./sl":396,"./sl.js":396,"./sq":397,"./sq.js":397,"./sr":398,"./sr-cyrl":399,"./sr-cyrl.js":399,"./sr.js":398,"./ss":400,"./ss.js":400,"./sv":401,"./sv.js":401,"./sw":402,"./sw.js":402,"./ta":403,"./ta.js":403,"./te":404,"./te.js":404,"./tet":405,"./tet.js":405,"./tg":406,"./tg.js":406,"./th":407,"./th.js":407,"./tk":408,"./tk.js":408,"./tl-ph":409,"./tl-ph.js":409,"./tlh":410,"./tlh.js":410,"./tr":411,"./tr.js":411,"./tzl":412,"./tzl.js":412,"./tzm":413,"./tzm-latn":414,"./tzm-latn.js":414,"./tzm.js":413,"./ug-cn":415,"./ug-cn.js":415,"./uk":416,"./uk.js":416,"./ur":417,"./ur.js":417,"./uz":418,"./uz-latn":419,"./uz-latn.js":419,"./uz.js":418,"./vi":420,"./vi.js":420,"./x-pseudo":421,"./x-pseudo.js":421,"./yo":422,"./yo.js":422,"./zh-cn":423,"./zh-cn.js":423,"./zh-hk":424,"./zh-hk.js":424,"./zh-mo":425,"./zh-mo.js":425,"./zh-tw":426,"./zh-tw.js":426};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=o,e.exports=n,n.id=434},467:function(e,t,r){"use strict";r.r(t);r(29),r(24),r(25),r(39),r(40);var n,o=r(7),l=r(15),c=(r(10),r(28),r(85),r(427),r(30),r(58),r(72),r(35),r(36),r(436),r(201),r(49),r(37)),d=r(73),j=r.n(d),m=r(433);r(291);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var v=new Array,f={middleware:"auth",computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)(["isAuthenticated","loggedInfont"])),mounted:function(){this.parametres=JSON.parse(localStorage.getItem("parametres")||"[]"),this.getMessages(),n=(new m.b).toDestination(),this.initDisplayErreur()},data:function(){return{url_server:this.$store.state.url_server,id_user:this.$auth.user.id,parametres:"",messages:[],isShowLoading:!0,isShowNoResult:!1,timeoutObj:"",isTools:!1,isPause:!1,myCurrentTimeSave:0,valSetTimeout:0}},methods:{getMessages:function(){var e=this;j.a.get(this.url_server+"/getMessages?id_user="+this.id_user).then((function(t){e.isShowLoading=!1,e.messages=t.data.liste,0==e.messages.length&&(e.isShowNoResult=!0)})).catch((function(e){return displayErreur("Erreur lors du chargement des messages")}))},logout:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.logout();case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()},loadSound:function(e,t,r){var n=this;console.log("debut"),console.log("blob : "+e),v[r]=new m.d({onload:function(){document.querySelector("#"+t+" .duration").innerHTML=n.convertSoundDuration(v[r].duration),document.querySelector("#"+t+" .content-play").classList.remove("isLoading")},onerror:function(){document.querySelector("#"+t+" .duration").innerHTML="no sound"},reverse:!1,url:e})},onload:function(){console.log("ONLOAD")},playSound:function(e,t,r){var o=this;document.querySelector("#"+t+" .content-play").classList.contains("isLoading")||(this.isPlayingSound==r?this.stopSound():(-1!=this.isPlayingSound&&(clearTimeout(this.valSetTimeout),this.stopSound()),this.initAllSound(),m.e.start(),this.myCurrentTime=new m.f,this.isPlayingSound=r,this.progressValTotal=v[r].duration,n.buffer=v[r],n.start(),n.onstop=function(){o.stopSound()},this.playSoundProgress(t),console.log("TITO1"),document.querySelector("#"+t+" .ctrlPlay").classList.add("hide"),document.querySelector("#"+t+" .ctrlPause").classList.remove("hide")))},initAllSound:function(){document.querySelectorAll(".progress-play").forEach((function(e){return e.style.width="0px"})),document.querySelectorAll(".ctrlPlay").forEach((function(e){return e.classList.remove("hide")})),document.querySelectorAll(".ctrlPause").forEach((function(e){return e.classList.add("hide")}))},pauseSound:function(e){clearInterval(this.valSetInterval),n.stop(),this.myCurrentTimeSave=this.myCurrentTime,console.log("PAUSE : "+this.myCurrentTimeSave),document.querySelector("#"+e+" .ctrlPlay").classList.remove("hide"),document.querySelector("#"+e+" .ctrlPause").classList.add("hide")},stopSound:function(){console.log("STOP"),this.isPlayingSound=-1,this.progressValTotal=0,clearInterval(this.valSetInterval),this.initAllSound(),n.stop(),m.e.stop(),this.myCurrentTime=0},playSoundProgress:function(e){console.log(this.myCurrentTime+" / "+this.progressValTotal);var t=Math.round(100*this.myCurrentTime/this.progressValTotal);-1!=this.isPlayingSound&&t<=101?(document.querySelector("#"+e+" .progress-play").style.width=t+"%",this.valSetInterval=setTimeout(function(){-1!=this.isPlayingSound&&this.playSoundProgress(e)}.bind(this),200)):(clearTimeout(this.valSetInterval),m.e.stop())},convertSoundDuration:function(e){return(e/60).toFixed(2).toString().replace(".",":")},convertSound:function(data){var e=convertURIToBinary(data),t=new Blob([e],{type:"audio/ogg"});return URL.createObjectURL(t)},initDisplayErreur:function(){hideErreur()},getRandomNumber:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}},y=f,S=r(33),component=Object(S.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"content"},[r("div",{staticClass:"col-left"},[r("div",{staticClass:"logo"},[r("nuxt-link",{attrs:{to:"/"}},[r("svg",{attrs:{id:"Calque_1","data-name":"Calque 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 776.86 861.5"}},[r("path",{attrs:{d:"M291.29,701.18c0,92.18,68.41,131,165.81,131,112.47,0,162.9-51,162.9-163.49V558.56H444.92C360.86,558.56,291.29,614.22,291.29,701.18ZM151.57,725.53c0-113,68.41-197.69,176.24-208.13V490.15c-84.06-10.43-146.67-87-146.67-179.14,0-133.34,130.44-215.66,280-215.66C622.9,95.35,740,173,747,332.46H611.89c-7-80-60.87-117.1-149-117.1-83.48,0-141.45,38.84-141.45,114.78s55.65,117.11,139.14,117.11H928.43V558.56H755.08c0,266.11-3.47,265,5.8,273.64,8.12,7.54,11.6,5.22,167.55,5.22V945.25c-207.55,0-224.94,5.8-263.21-34.2-22.61-23.77-21.45-74.79-21.45-74.79H622.9c-34.78,86.38-107.83,120.59-203.49,120.59C265.2,956.85,151.57,877.42,151.57,725.53Z",transform:"translate(-151.57 -95.35)"}})])])],1),e._v(" "),r("div",{staticClass:"tools hidePara"},[r("div",{staticClass:"tools-content",class:{open:e.isTools}}),e._v(" "),r("div",{staticClass:"tools-nav"},[e._v("ParamÃ¨tres")])])]),e._v(" "),r("div",{staticClass:"col-content",class:{marge:e.isTools}},[r("div",{staticClass:"col-content-list"},[e.messages.length?e._e():r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowLoading,expression:"isShowLoading"}]},[e._v("Chargement des messages...")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowNoResult,expression:"isShowNoResult"}]},[e._v("aucun message enregistrÃ©")])]),e._v(" "),e._l(e.messages,(function(t,n){return r("div",{staticClass:"item"},[r("div",{staticClass:"item-content",attrs:{id:"S_"+n}},[r("div",{staticClass:"zonePlay"},[r("div",{staticClass:"content-play isLoading",on:{click:function(r){return e.playSound("/upload/message_"+t.id_message+".webm","S_"+n,n)}}},[r("svg",{staticClass:"ctrlPlay",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"}})]),e._v(" "),r("svg",{staticClass:"ctrlPause hide",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z","clip-rule":"evenodd"}})])])]),e._v(" "),r("div",{staticClass:"message relative"},[r("a",{attrs:{href:"/?id_message="+t.id_message}},[e._v(e._s(t.texte))]),e._v(" "),r("div",{staticClass:"progress-play"})]),e._v(" "),r("div",{staticClass:"duration"},[e._v("loading..."+e._s(e.loadSound("/upload/message_"+t.id_message+".webm","S_"+n,n)))])])])}))],2)]),e._v(" "),r("div",{staticClass:"col-right"})])])}),[],!1,null,"55a1b742",null);t.default=component.exports}}]);